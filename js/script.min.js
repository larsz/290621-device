"use strict";(function(){var e,t,n,o,r,c,a,l,u,i,s={ESC:27,ENTER:13},d=document.querySelector(".contacts-btn"),m=document.querySelector(".map"),v=!0,f="",L="",y=function(){e=document.querySelector(".modal-feedback-form"),t=e.querySelector(".feedback-form"),n=e.querySelector(".modal-close"),o=e.querySelector("#customer-name"),r=e.querySelector("#customer-email"),c=e.querySelector("#customer-message")},p=function(){a=document.querySelector(".modal-map"),l=a.querySelector(".modal-close")},E=function(){u=document.querySelectorAll('[role="tab"]'),i=document.querySelectorAll('[role="tabpanel"]')},k=function(e,t){e.keyCode===s.ESC&&"function"==typeof t&&t()},S=function(e,t){e.keyCode===s.ENTER&&"function"==typeof t&&t()},b=function(e){S(e,h)},g=function(e){e.preventDefault(),h()},q=function(e){k(e,h)},w=function(){t.addEventListener("submit",A),n.addEventListener("click",g),n.addEventListener("keydown",b),document.addEventListener("keydown",q)},_=function(){t.removeEventListener("submit",A),n.removeEventListener("click",g),n.removeEventListener("keydown",b),document.removeEventListener("keydown",q)},D=function(){y(),e.classList.add("modal-open"),w(),f&&(o.value=f,r.focus()),L&&(r.value=L,c.focus()),f||L||o.focus()},h=function(){e.classList.remove("modal-error"),e.classList.remove("modal-open"),o.value="",r.value="",c.value="",_(),d.focus()},A=function(t){o.value?r.value?v&&(localStorage.setItem("device_customer_login",o.value),localStorage.setItem("device_customer_email",r.value)):(t.preventDefault(),e.classList.remove("modal-error"),e.classList.add("modal-error"),r.focus()):(t.preventDefault(),e.classList.remove("modal-error"),e.classList.add("modal-error"),o.focus())},C=function(e){e.preventDefault(),T()},I=function(e){S(e,T)},N=function(e){k(e,T)},R=function(){p(),a.classList.add("modal-open"),document.addEventListener("keydown",N),l.addEventListener("click",C),l.addEventListener("keydown",I),l.focus()},T=function(){a.classList.remove("modal-open"),m.focus(),document.removeEventListener("keydown",N),l.removeEventListener("click",C),l.removeEventListener("keydown",I)},x=function(e){e.preventDefault(),R()},j=function(e){e.preventDefault(),D()},z=function(e){u[e].addEventListener("click",B),u[e].index=e},B=function(e){e.preventDefault();var t=e.target;H(t)},F=function(){for(var e=0,t=u.length;e<t;e++){var n=u[e].parentNode;n.classList.contains("tab-title-current")&&n.classList.remove("tab-title-current")}},G=function(){for(var e=0,t=i.length;e<t;e++)i[e].classList.contains("tab-panel-open")&&i[e].classList.remove("tab-panel-open")},H=function(e){F(),G();var t=e.parentNode,n=e.getAttribute("aria-controls"),o=document.querySelector("#"+n);e.setAttribute("aria-selected","true"),t.classList.add("tab-title-current"),o.classList.add("tab-panel-open"),o.removeAttribute("aria-hidden")},J=function(){E();for(var e=0;e<u.length;e++)z(e)},K=function(){try{f=localStorage.getItem("device_customer_login"),L=localStorage.getItem("device_customer_email")}catch(e){v=!1}J(),d.addEventListener("click",j),m.addEventListener("click",x)};K()})();